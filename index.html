<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<title>Line Prettier</title>

<style>
*{
	padding:0;
	margin:0;
}

textarea {
	resize: none;
	width: 100%;
	height: 200px;
}


#button_group {
	width: 100%;
	text-align:right;
}

textarea{
	user-select: none;
}

</style>

<script>
// '~~. 2nd is ~~' is still not solve
function line_prittier(){
	let input=document.getElementById("input").value;
	newline_remove_result=input.replace(/\n/g, " ");
	number_after_dot=newline_remove_result.replace(/(.\.)(\s)(\d)/g, "$1$3")
	// â†‘ Fig. 1 or Rel. 14
	line_per_dot=number_after_dot.replace(/\.\s/g, ".\n\n");
	exception_case=line_per_dot.replace(/(et\sal\.|U.S.)\n\n/g, "$1 ");
	document.getElementById("output").value=exception_case;
	
}

function reset(){
	document.getElementById("input").value="";
	document.getElementById("output").value="";
}

function output_copy(){
	document.getElementById("output").select();
	document.execCommand('copy');
	window.getSelection().removeAllRanges();
}

</script>
<body>

<div>
<textarea id="input"></textarea>
</div>

<div id="button_group">
<input type="button" value="Convert!" id="Convert" class="button" onclick="javascript:line_prittier()" />
<input type="button" value="Reset" id="Reset" class="button" onclick="javascript:reset()"/>
</div>

<div>
<textarea draggable="false" id="output" readonly onclick="javascript:output_copy()"></textarea>
</div>

</body>
</html>
